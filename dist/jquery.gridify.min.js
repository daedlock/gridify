/*! gridify - v1.0.0 - 2015-04-29
* Copyright (c) 2015 Hossam Saraya; Licensed MIT */
!function(a){a.fn.gridify=function(b){var c={arrows:{left:".arrow",right:".arrow",top:".arrow",bottom:".arrow"},pageSelector:".page",pagesPerRow:3,arrowKeysEnabled:!0,onAfterPageSlide:function(a,b){},onBeforePageSlide:function(a,b){}},d=a.extend({},c,b),e=this,f=a("body"),g=a([d.arrows.left,d.arrows.right,d.arrows.top,d.arrows.bottom].join(",")),h={x:0,y:0},i={i:0,j:0},j=e.find(d.pageSelector);d.arrowKeysEnabled&&a(document).keydown(function(a){switch(a.which){case 37:window.moveToPage(i.i,i.j-1);break;case 38:window.moveToPage(i.i-1,i.j);break;case 39:window.moveToPage(i.i,i.j+1);break;case 40:window.moveToPage(i.i+1,i.j);break;default:return}a.preventDefault()});var k=function(){return h.x=-i.j*window.innerWidth,h.y=-i.i*window.innerHeight,e.css({transform:"translateX("+h.x+"px) translateY("+h.y+"px)"}),j.each(function(b,c){a(c).css({position:"fixed",overflow:"scroll",zIndex:-1,top:Math.floor(b/d.pagesPerRow)*window.innerHeight,bottom:0,left:b%d.pagesPerRow*window.innerWidth,width:window.innerWidth,minHeight:window.innerHeight})})};return window.moveToPage=function(a,b){if(0>a||0>b||b+1>d.pagesPerRow||a+1>Math.ceil(j.length/d.pagesPerRow))return!1;d.onBeforePageSlide(i.i,i.j);var c=window.innerWidth,k=window.innerHeight;h.x=-b*c,h.y=-a*k,i.j=b,i.i=a,f.velocity({scale:.7,opacity:.7},{}),g.velocity({opacity:0}),e.velocity({translateX:h.x,translateY:h.y},{delay:300,easing:[.71,-.58,.29,1.57]}),f.velocity({scale:1,opacity:1},{delay:300,complete:function(){d.onAfterPageSlide(i.i,i.j)}}),g.velocity({opacity:1},{delay:360})},k(),a(window).resize(function(){k()}),a(".arrow").click(function(){}),this}}(jQuery);